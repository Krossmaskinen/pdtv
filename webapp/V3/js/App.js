var App = function() {	this.countries = {};		this.model = new DataModel();	this.model.addListener(this);};App.prototype.update = function(model) {	var app = this;	console.log("Packets: " + model.data.data.length);	model.data.data.forEach(function(packet){		if(packet.from.country != "__")			app.onDataPoint(packet.from);		if(packet.to.country != "__")			app.onDataPoint(packet.to);	});};App.prototype.onDataPoint = function(location) {	var c = this.countries[location.country];	if(c === undefined) {		c = new CountryData();		c.isocode = location.country;		this.countries[location.country] = c; 	}		c.handleDataPoint(location);}